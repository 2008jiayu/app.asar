!function(e){function t(i){if(s[i])return s[i].exports;var o=s[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var s={};return t.m=e,t.c=s,t.p="./build/",t(0)}({0:function(e,t,s){ws=s(1490)},5:function(e,t){e.exports={init:function(){},addDevice:function(e,t){try{console.log("lstore addDevice:",e);for(var s=JSON.parse(localStorage.getItem("devices")||"[]"),i=0,o=s.length;i<o;i++)if(s[i].FILE===e.FILE)return void(JSON.stringify(s[i])!==JSON.stringify(e)?(t?$.extend(s[i],e):s[i]=e,localStorage.setItem("devices",JSON.stringify(s)),console.log("lstore.addDevice: update device status")):console.log("lstore.addDevice: same file!"));return console.log("lstore.addDevice: add a new device!"),s.push(e),localStorage.setItem("devices",JSON.stringify(s)),!0}catch(e){console.log(e)}},clearDevice:function(){console.log("lstore.clearDevice");try{localStorage.setItem("devices",[]),this.setActiveDevice({},{})}catch(e){console.log(e)}},removeDevice:function(e){try{for(var t=JSON.parse(localStorage.getItem("devices")||"[]"),s=0,i=t.length;s<i;s++)if(t[s].FILE===e.FILE)return console.log("device.FILE",e.FILE),t.splice(s,1),localStorage.setItem("devices",JSON.stringify(t)),!0;return!1}catch(e){console.log(e)}},getAllDevices:function(){try{return JSON.parse(localStorage.getItem("devices")||"[]")}catch(e){console.log(e)}},setActiveDevice:function(e,t){try{console.log("setting active_device",JSON.stringify(e)),localStorage.setItem("active_device",JSON.stringify(e)),this.setActiveDeviceConfig(t)}catch(e){console.log(e)}},setActiveDevice2:function(e){try{console.log("setting active_device",JSON.stringify(e)),localStorage.setItem("active_device",JSON.stringify(e))}catch(e){console.log(e)}},setActiveDeviceConfig:function(e){try{localStorage.setItem("active_device_config",JSON.stringify(e))}catch(e){console.log(e)}},removeActiveDevice:function(){try{localStorage.removeItem("active_device"),this.removeActiveDeviceConfig()}catch(e){console.log(e)}},removeActiveDeviceConfig:function(e){try{localStorage.removeItem("active_device_config")}catch(e){console.log(e)}},getActiveDevice:function(){try{return JSON.parse(localStorage.getItem("active_device"))||{}}catch(e){console.log(e)}},getActiveDeviceConfig:function(){try{return JSON.parse(localStorage.getItem("active_device_config"))||{}}catch(e){console.log(e)}},setActiveFirmware:function(e){localStorage.setItem("active_firmware",JSON.stringify(e))},getActiveFirmware:function(){try{return JSON.parse(localStorage.getItem("active_firmware"))||{}}catch(e){console.log(e)}},setActiveHardware:function(e){localStorage.setItem("active_hardware",JSON.stringify(e))},getEmail:function(){return localStorage.getItem("email")||!1},setEmail:function(e){localStorage.setItem("email",e)},clearEmail:function(e){localStorage.removeItem("email")},getLang:function(){var e=localStorage.getItem("locale")||"en";return window.ipcRenderer||utils.initElectron(),window.ipcRenderer.send("set-locale",e),e},setLang:function(e){localStorage.setItem("locale",e),window.ipcRenderer||utils.initElectron(),window.ipcRenderer.send("set-locale",e)},getDebug:function(){return localStorage.getItem("debug")||0},setDebug:function(e){localStorage.setItem("debug",e)},getDebugEnabled:function(){try{return JSON.parse(localStorage.getItem("debug_enabled"))||!1}catch(e){console.log(e)}},setDebugEnabled:function(e){localStorage.setItem("debug_enabled",e)},getFactoryEnabled:function(){try{return JSON.parse(localStorage.getItem("factory_enabled"))||!1}catch(e){console.log(e)}},setFactoryEnabled:function(e){localStorage.setItem("factory_enabled",e||!1)},getTestServerEnabled:function(){try{return JSON.parse(localStorage.getItem("test_server_enabled"))||!1}catch(e){console.log(e)}},setTestServerEnabled:function(e){localStorage.setItem("test_server_enabled",e||!1)},setbackupdate:function(){localStorage.setItem("backupdate",Date.now())},setbackupdate:function(){localStorage.setItem("backupdate",Date.now())},backup:function(e){localStorage.setItem("backupdate",Date.now()),localStorage.setItem("backup",JSON.stringify(e))},getbackup:function(){try{return JSON.parse(localStorage.getItem("backup"))||{}}catch(e){console.log(e)}},getbackupdate:function(){return localStorage.getItem("backupdate")||""},getUpgradeStatus:function(){try{return localStorage.getItem("upgrade_status")||0}catch(e){console.log(e)}},setUpgradeStatus:function(e){localStorage.setItem("upgrade_status",e||0)},readP4CalibrationTutorial:function(){localStorage.setItem("p4_calibration_tutorial_read","true")},isP4CalibrationTutorialRead:function(){return"true"==localStorage.getItem("p4_calibration_tutorial_read")},getdownloadPath:function(){return localStorage.getItem("downloadPath")||""},setdownloadPath:function(e){localStorage.setItem("downloadPath",e)},getSortRoutesDateFlag:function(){return localStorage.getItem("has_sort_routes_date")},setSortRoutesDateFlag:function(e){return localStorage.setItem("has_sort_routes_date",e)},getAllRoutes:function(){try{var e=JSON.parse(localStorage.getItem("routes"))||!1;return e&&e.sort(function(e,t){return t.last_open-e.last_open}),e}catch(e){console.log(e)}},getRoutesCount:function(){try{var e=JSON.parse(localStorage.getItem("routes"))||!1;return Object.keys(e).length}catch(e){console.log(e)}},setRouteInfo:function(e){localStorage.setItem("routes",JSON.stringify(e))},addRoute:function(e){var t=function(){for(var e=JSON.parse(localStorage.getItem("routes"))||[],t=e.length;;){for(var s="route_"+(new Date).getTime()+"_"+Math.round(1e5*Math.random()),i=!0,o=0;o<t;o++)if(e[o].id===s){i=!1;break}if(i)return s}};try{var s=t();e.id=e.routeId||s;var i=JSON.parse(localStorage.getItem("routes"))||[];return i.unshift(e),localStorage.setItem("routes",JSON.stringify(i)),e.id}catch(e){return console.log(e),!1}},setRoute:function(e,t){console.log("route opt setRoute, ",t);try{var s=$.extend(!0,{},t);delete s.id;for(var i=JSON.parse(localStorage.getItem("routes"))||[],o=0,n=i.length;o<n;o++)if(i[o].id===e)return $.extend(i[o],s),localStorage.setItem("routes",JSON.stringify(i)),!0;return!1}catch(e){return console.log(e),!1}},removeRoute:function(e){try{var t=JSON.parse(localStorage.getItem("routes"))||[];return t.splice(e,1)!=[]&&(localStorage.setItem("routes",JSON.stringify(t)),!0)}catch(e){console.log(e)}},removeRouteById:function(e){try{for(var t=JSON.parse(localStorage.getItem("routes"))||[],s=0;s<t.length;s++)if(t[s].id==e&&t.splice(s,1)!=[])return localStorage.setItem("routes",JSON.stringify(t)),!0;return!1}catch(e){console.log(e)}},getPrevLocation:function(){return JSON.parse(localStorage.getItem("prev_latlng"))||!1},setPrevLocation:function(e){localStorage.setItem("prev_latlng",JSON.stringify(e))},removeAircraft:function(e){try{var t=JSON.parse(localStorage.getItem("aircraft_map"))||{};return t["aircraft_"+e]&&(delete t["aircraft_"+e],localStorage.setItem("aircraft_map",JSON.stringify(t))),!0}catch(e){return console.log(e.message),!1}},setAircraft:function(e,t){try{var s=JSON.parse(localStorage.getItem("aircraft_map"))||{},i=s["aircraft_"+e]||{};return $.extend(i,t),s["aircraft_"+e]=i,localStorage.setItem("aircraft_map",JSON.stringify(s)),!0}catch(e){return console.log(e.message),!1}},getAircraft:function(e){try{var t=JSON.parse(localStorage.getItem("aircraft_map"))||{};return e?t["aircraft_"+e]||{}:t}catch(e){return console.log(e.message),!1}},getSimParamLatitude:function(){return JSON.parse(localStorage.getItem("simParam_Latitude"))},setSimParamLatitude:function(e){localStorage.setItem("simParam_Latitude",e),console.log("set down!",localStorage.getItem("simParam_Latitude"))},getSimParamLongitude:function(){return JSON.parse(localStorage.getItem("simParam_Longitude"))},setSimParamLongitude:function(e){localStorage.setItem("simParam_Longitude",e),console.log("set down!",localStorage.getItem("simParam_Longitude"))},getFirstShowUpgrade:function(e){for(var t=JSON.parse(localStorage.getItem("first_show_upgrate")||"[]"),s=0,i=t.length;s<i;s++)if(console.log(typeof t[s].deviceId,typeof e),t[s].deviceId===e)return t[s].ifshow;return console.log("lstore return true!"),!0},setFirstShowUpgrade:function(e,t,s){for(var i=JSON.parse(localStorage.getItem("first_show_upgrate")||"[]"),o=0,n=0,a=i.length;n<a;n++)i[n].deviceId===e&&(i[n].version=t,i[n].ifshow=s,o=1);return o||i.push({deviceId:e,version:t,ifshow:s}),localStorage.setItem("first_show_upgrate",JSON.stringify(i)),localStorage.getItem("first_show_upgrate")},removeFirstShowUpgrade:function(e){for(var t=JSON.parse(localStorage.getItem("first_show_upgrate")||"[]"),s=0,i=t.length;s<i;s++)if(t[s].deviceId===e)return t.splice(s,1),void localStorage.setItem("first_show_upgrate",JSON.stringify(t))},setUpgradeF2Info:function(e,t){try{var s={name:e,password:t};localStorage.setItem("upgrade_f2",JSON.stringify(s))}catch(e){console.error("localStorage.setItem error, funName:setUpgradeF2Info")}},getUpgradeF2Info:function(){try{var e=localStorage.getItem("upgrade_f2");return JSON.parse(e)}catch(e){console.error("localStorage.getItem error, funName:getUpgradeF2Info")}},removeUpgradeF2Info:function(){try{localStorage.removeItem("upgrade_f2")}catch(e){console.error("localStorage.removeItem error, funName:removeUpgradeF2Info")}},setCalibrationNotTeachFlag:function(e,t){try{localStorage.setItem("calibration_not_teach_"+e,t)}catch(e){console.error("localStorage.setItem error, funName:setCalibrationNotTeachFlag")}},getCalibrationNotTeachFlag:function(e){try{return localStorage.getItem("calibration_not_teach_"+e)}catch(e){console.error("localStorage.getItem error, funName:getCalibrationNotTeachFlag")}},get_m600_line_no_more_remind:function(){try{return localStorage.getItem("m600_line_no_more_remind")||""}catch(e){console.error("localStorage.getItem error, funName:get_m600_line_no_more_remind")}},set_m600_line_no_more_remind:function(e){try{return localStorage.setItem("m600_line_no_more_remind",e)}catch(e){console.error("localStorage.getItem error, funName:set_m600_line_no_more_remind")}},remove_m600_line_no_more_remind:function(){try{return localStorage.removeItem("m600_line_no_more_remind")}catch(e){console.error("localStorage.getItem error, funName:remove_m600_line_no_more_remind")}},get_m600_upgrade_no_more_remind:function(e){try{return localStorage.getItem("m600_upgrade_no_more_remind_"+e)||""}catch(e){console.error("localStorage.getItem error, funName:m600_upgrade_no_more_remind")}},set_m600_upgrade_no_more_remind:function(e,t){try{return localStorage.setItem("m600_upgrade_no_more_remind_"+e,t)}catch(e){console.error("localStorage.setItem error, funName:m600_upgrade_no_more_remind")}},remove_m600_upgrade_no_more_remind:function(e){try{return localStorage.removeItem("m600_upgrade_no_more_remind_"+e)}catch(e){console.error("localStorage.removeItem error, funName:m600_upgrade_no_more_remind")}},set_video_urls:function(e){try{return localStorage.setItem("video_urls",JSON.stringify(e))}catch(e){console.error("localStorage.setItem error, funName:video_urls")}},get_video_urls:function(){try{var e=localStorage.getItem("video_urls");return e?JSON.parse(e):null}catch(e){console.error("localStorage.getItem error, funName:video_urls")}},setProjectId:function(e){localStorage.setItem("projectid",e)},getProjectId:function(){return localStorage.getItem("projectid")},setAtUser:function(e){localStorage.setItem("at_user",JSON.stringify(e))},getAtUser:function(){try{return JSON.parse(localStorage.getItem("at_user"))||!1}catch(e){console.log(e)}},delAtUser:function(){localStorage.removeItem("at_user"),localStorage.removeItem("session")},setCaseListCurPage:function(e,t){localStorage.setItem("case_list_page_"+e,t)},getCaseListCurPage:function(e){return localStorage.getItem("case_list_page_"+e)},setSession:function(e){localStorage.setItem("session",e)},getSession:function(){return localStorage.getItem("session")},setNewCasePath:function(e){localStorage.setItem("new_case_path",e)},getNewCasePath:function(){return localStorage.getItem("new_case_path")},setAtTemplate:function(e){localStorage.setItem("at_template",JSON.stringify(e))},getAtTemplate:function(){try{return JSON.parse(localStorage.getItem("at_template"))||!1}catch(e){console.log(e)}},setMapInfo:function(e){localStorage.setItem("map_into",JSON.stringify(e))},getMapInfo:function(){return JSON.parse(localStorage.getItem("map_into"))||{}},_getAircraftRouteMap:function(){var e="aircraft_route_map",t=localStorage.getItem(e);if(t)try{t=JSON.parse(t)}catch(e){console.log("setAircraftRoute error, too large, ",e)}else t={};return t},setAircraftRoute:function(e,t){if(e&&t){var s="aircraft_route_map",i=this._getAircraftRouteMap();i[e]=JSON.stringify(t),localStorage.setItem(s,JSON.stringify(i))}},getAircraftRoute:function(e){if(e){var t=this._getAircraftRouteMap(),s=t[e];if(s)try{s=JSON.parse(s)}catch(e){console.log("getAircraftRoute error, ",e)}return s}},getGmca:function(){return JSON.parse(localStorage.getItem("gmca"))||!1},setGmca:function(e){localStorage.setItem("gmca",JSON.stringify(e))},set_report_cfg_showed:function(e){localStorage.setItem("report_cfg_showed",e)},get_report_cfg_showed:function(){return localStorage.getItem("report_cfg_showed")||0},ignore_upgrade_sql:function(e){try{var t=localStorage.getItem("ignore_upgrade_sql")||"{}";return t=JSON.parse(t),t[e]=1,localStorage.setItem("ignore_upgrade_sql",JSON.stringify(t)),!0}catch(e){return!1}},clear_ignore_upgrade_sql:function(){return localStorage.removeItem("ignore_upgrade_sql"),!0},if_ignore_upgrade_sql:function(e){try{var t=localStorage.getItem("ignore_upgrade_sql")||"{}";return t=JSON.parse(t),t[e]||0}catch(e){return!1}},set_cali_log_opitons:function(e){localStorage.setItem("cali_log_opitons",JSON.stringify(e))},get_cali_log_opitons:function(){var e=localStorage.getItem("cali_log_opitons");try{return JSON.parse(e)}catch(e){return null}},set_ass_version:function(e){localStorage.setItem("ass_version",e)},get_ass_version:function(e){var t=localStorage.getItem("ass_version");return t},set_system_info:function(e){localStorage.setItem("system_info",JSON.stringify(e))},get_system_info:function(){var e=localStorage.getItem("system_info");try{return JSON.parse(e)}catch(e){return null}}}},663:function(e,t){var s=localStorage.getItem("wsHost")||"localhost";e.exports={wsServer:"ws://"+s,wsHost:"ws://"+s+":19870",wsHost2:"ws://"+s+":19871",wsHost3:"ws://"+s+":9999"}},1490:function(e,t,s){var i=s(663),o=s(5),n={};e.exports={utils:{register:function(e,t,s){var i=this;if(e=e||"",t=t||[],s=s||e,e){var o=function(s){if(s=s||{},i.ws&&1!=i.ws.readyState)return void(s&&s.onFailure());var o={SEQ:utils.genSeq(Object.keys(n)),CMD:e};for(var a in s)t.indexOf(a)>=0&&(o[a]=o[a]||s[a]);n[o.SEQ]=s,i.ws.send(JSON.stringify(o)),console.debug("send:",JSON.stringify(o))};i[s]=o}},getMessageHander:function(){return function(e){try{var t=JSON.parse(e.data);if(t.EVENT)this.app&&this.app[t.EVENT.toLowerCase()]&&this.app[t.EVENT.toLowerCase()](t);else if(t.SEQ){console.debug("recieve:",JSON.stringify(t)),o&&1==o.getDebug()&&t.TIP_MSG&&alert(t.TIP_MSG);var s=t.SEQ,i=n[s];t.ERROR&&"SUCCESS"===t.ERROR.toUpperCase()&&i&&i.onSuccess?i.onSuccess(t):t.ERROR&&"FAILURE"===t.ERROR.toUpperCase()&&i&&i.onFailure?i.onFailure(t):t.ERROR&&"TIMEOUT"===t.ERROR.toUpperCase()&&i&&i.onTimeout&&i.onTimeout(t),delete n[s]}}catch(e){throw e}}},close:function(){this.ws&&this.ws.close&&(this.ws.close(),this.app=null)}},general:{url:i.wsHost+"/general",connected:!1,init:function(t){var s=this;this.app=t,this.ws=new WebSocket(this.url),this.ws.onopen=function(){s.connected=!0,s.onopen&&s.onopen()},this.ws.onclose=this.onclose||function(){},this.ws.onerror=this.onerror||function(){},this.ws.onmessage=function(e){this.onmessage(e)}.bind(this);var i=e.exports.utils.register;i.call(this,"auto_upgrade_config",["DEVICE","DEVICE_INDEX","DEVICE_FIRMWARE_TYPE","FIRMWARE_DATA"]),i.call(this,"OpenDataViewer",["VALUE"]),i.call(this,"DisableSleep",["VALUE"]),i.call(this,"get_verify_code",[],"getVerifyCode"),i.call(this,"login_status",[],"login_status"),i.call(this,"login",["AREA_CODE","ACCOUNT","PASSWORD","VERIF_CODE"])},close:function(){this.ws&&this.ws.close&&(this.ws.close(),this.app=null)},onmessage:function(e){try{var t=JSON.parse(e.data);if(t.EVENT)this.app&&this.app[t.EVENT.toLowerCase()]&&this.app[t.EVENT.toLowerCase()](t);else if(t.SEQ){var s=t.SEQ,i=n[s];o&&1==o.getDebug()&&t.TIP_MSG&&alert(t.TIP_MSG),t.ERROR&&"SUCCESS"===t.ERROR.toUpperCase()&&i&&i.onSuccess?i.onSuccess(t):t.ERROR&&"FAILURE"===t.ERROR.toUpperCase()&&i&&i.onFailure?i.onFailure(t):t.ERROR&&"TIMEOUT"===t.ERROR.toUpperCase()&&i&&i.onTimeout?i.onTimeout(t):i&&i.onFailure(t),i&&!i.email&&delete n[s]}}catch(e){console.log(e.name+": "+e.message)}},logout:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"logout"};n[t]=e,this.ws.send(JSON.stringify(s))}},cmd:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:e.cmd};n[t]=e,this.ws.send(JSON.stringify(s))}},add_device_prepare:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"add_device_prepare"};n[t]=e,this.ws.send(JSON.stringify(s))}},add_device:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"add_device",DEVICE_TYPE:e.DEVICE_TYPE,COM:e.COM,BAUD_RATE:e.BAUD_RATE,CAN_INDEX:e.CAN_INDEX,T_ID:e.T_ID,R_ID:e.R_ID};n[t]=e,this.ws.send(JSON.stringify(s))}}},controller:{url:i.wsHost+"/controller/config/user/",app:null,readyState:0,init:function(t){var s=this;this.app=t;var i=this.app.activeDevice;this.ws=new WebSocket(this.url+i.FILE),this.ws.onopen=function(e){s.readyState=e&&e.target&&e.target.readyState,s.onopen&&s.onopen(e)},this.ws.onclose=function(e){s.readyState=e&&e.target&&e.target.readyState,s.onclose&&s.onclose(e)},this.ws.onmessage=function(e){this.onmessage(e)}.bind(this);var o=e.exports.utils.register;o.call(this,"SetParamTable",["VALUE","INDEX"]),o.call(this,"GetParamTable",["INDEX"]),o.call(this,"DoMotorTest",["INDEX"]),o.call(this,"DoFactoryReset",["INDEX"]),o.call(this,"SetEscIndex",["INDEX"]),o.call(this,"GetControllerVer",[],"getControllerVer"),o.call(this,"SendEscDebugParams",["PARAM0","PARAM1","PARAM2","PARAM3"],"sendEscDebugParams"),o.call(this,"GetEscDebugParams",[],"getEscDebugParams"),o.call(this,"GetControllerSN",[],"getControllerSN"),o.call(this,"GetDeviceSN",[],"getDeviceSN"),o.call(this,"EnterFcSdcard",[],"enterFcSdcard"),o.call(this,"LeaveFcSdcard",[],"leaveFcSdcard"),o.call(this,"get_info",[],"getInfo"),o.call(this,"set_report_cfg",["USER_NAME","PASSWORD","REPORT_CFG","OP_TYPE","LOCAL_PATH"]),o.call(this,"start_test",["TYPE"]),o.call(this,"stop_test",["TYPE","RESULT"]),o.call(this,"refresh_dev_connect_status",[]),o.call(this,"GetControllerType",[],"getControllerType"),o.call(this,"reset_all_params",[],"reset_all_params"),o.call(this,"SetCtrlInfo",["LED"]),o.call(this,"GetCtrlInfo",[])},close:function(){this.ws&&this.ws.close&&(this.ws.close(),this.app=null)},onerror:function(e){utils.directTo("index")},onmessage:function(e){try{var t=JSON.parse(e.data);if(t.EVENT)this.app&&this.app[t.EVENT.toLowerCase()]&&this.app[t.EVENT.toLowerCase()](t);else if(t.SEQ){var s=t.SEQ,i=n[s];o&&1==o.getDebug()&&t.TIP_MSG&&alert(t.TIP_MSG),t.ERROR&&"SUCCESS"===t.ERROR.toUpperCase()&&i&&i.onSuccess?i.onSuccess(t):t.ERROR&&"FAILURE"===t.ERROR.toUpperCase()&&i&&i.onFailure?i.onFailure(t):t.ERROR&&"TIMEOUT"===t.ERROR.toUpperCase()&&i&&i.onTimeout&&i.onTimeout(t),delete n[s]}}catch(e){}},read:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"read",INDEX:e.index};n[t]=e,this.ws.send(JSON.stringify(s))}},write:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"write",INDEX:e.index,VALUE:e.value};n[t]=e,this.ws.send(JSON.stringify(s))}},reset:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"reset",INDEX:e.index};n[t]=e,this.ws.send(JSON.stringify(s))}},book:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"book",PERIOD:e.period,INDEX:e.index};n[t]=e,this.ws.send(JSON.stringify(s))}},command:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"command",INDEX:e.index};console.log(JSON.stringify(s)),n[t]=e,this.ws.send(JSON.stringify(s))}}},board_test:{url:i.wsHost+"/controller/board_test/",app:null,init:function(e){this.app=e;var t=this.app.activeDevice;this.ws=new WebSocket(this.url+t.FILE),this.ws.onopen=this.onopen,this.ws.onclose=this.onclose,this.ws.onerror=this.onerror,this.ws.onmessage=function(e){this.onmessage(e)}.bind(this)},close:function(){this.ws&&this.ws.close&&(this.ws.close(),this.app=null)},onmessage:function(e){try{var t=JSON.parse(e.data);if(t.EVENT)this.app&&this.app[t.EVENT.toLowerCase()]&&this.app[t.EVENT.toLowerCase()](t);else if(t.SEQ){var s=t.SEQ,i=n[s];o&&1==o.getDebug()&&t.TIP_MSG&&alert(t.TIP_MSG),t.ERROR&&"SUCCESS"===t.ERROR.toUpperCase()&&i&&i.onSuccess?i.onSuccess(t):t.ERROR&&"FAILURE"===t.ERROR.toUpperCase()&&i&&i.onFailure?i.onFailure(t):t.ERROR&&"TIMEOUT"===t.ERROR.toUpperCase()&&i&&i.onTimeout&&i.onTimeout(t),delete n[s]}}catch(e){}},start_test:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"start_test",PRODUCT_ID:e.PRODUCT_ID};n[t]=e,this.ws.send(JSON.stringify(s))}},start_process:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"start_process",STEP_ID:parseInt(e.STEP_ID),PRODUCT_ID:e.PRODUCT_ID,IS_AUTO:e.IS_AUTO};n[t]=e,this.ws.send(JSON.stringify(s))}},get_status_info:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"get_status_info",STEP_ID:e.STEP_ID};n[t]=e,this.ws.send(JSON.stringify(s))}},set_status_info:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"set_status_info",STEP_ID:e.STEP_ID,INDEX:e.INDEX,STATUS_INFO:e.STATUS_INFO};n[t]=e,this.ws.send(JSON.stringify(s))}}},upgrade:{url:i.wsHost+"/controller/upgrade/",app:null,init:function(t){this.app=t;var s=this.app.activeDevice;this.ws=new WebSocket(this.url+s.FILE),this.ws.onopen=this.onopen,this.ws.onclose=this.onclose,this.ws.onmessage=function(e){this.onmessage(e)}.bind(this);var i=e.exports.utils.register;i.call(this,"upload_logs",[],"uploadLog"),i.call(this,"reset_all",[]),i.call(this,"refresh_upgrade_package_info",["PACK_URL","PRODUCT"]),i.call(this,"upgrade_package",["PACKAGE_VERSION","FORCE_UPGRADE"])},close:function(){this.ws&&this.ws.close&&(this.ws.close(),this.app=null)},onerror:function(e){utils.directTo("index")},onmessage:function(e){try{var t=JSON.parse(e.data);if(t.EVENT)this.app&&this.app[t.EVENT.toLowerCase()]&&this.app[t.EVENT.toLowerCase()](t);else if(t.SEQ){var s=t.SEQ,i=n[s];o&&1==o.getDebug()&&t.TIP_MSG&&alert(t.TIP_MSG),t.ERROR&&"SUCCESS"===t.ERROR.toUpperCase()&&i&&i.onSuccess?i.onSuccess(t):t.ERROR&&"FAILURE"===t.ERROR.toUpperCase()&&i&&i.onFailure?i.onFailure(t):t.ERROR&&"TIMEOUT"===t.ERROR.toUpperCase()&&i&&i.onTimeout&&i.onTimeout(t),delete n[s]}}catch(e){}},refresh_device_status:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"refresh_device_status",NAME:e.NAME,PASSWORD:e.PASSWORD,TOKEN:e.TOKEN,QUICK:e.QUICK};n[t]=e,this.ws.send(JSON.stringify(s))}},beta_refresh:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"beta_refresh",NAME:e.NAME,PASSWORD:e.PASSWORD,TOKEN:e.TOKEN};n[t]=e,this.ws.send(JSON.stringify(s))}},upgrade:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"upgrade",DEVICE:e.DEVICE,DEVICE_INDEX:e.DEVICE_INDEX};n[t]=e,this.ws.send(JSON.stringify(s))}},upgrade_package_data:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"upgrade_package_data",DATA:e.DATA};n[t]=e,this.ws.send(JSON.stringify(s))}},upgrade_selected_package:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"upgrade_selected_package",PACKAGE_VERSION:e.PACKAGE_VERSION};n[t]=e,this.ws.send(JSON.stringify(s))}},upgrade_file:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"upgrade_file",DEVICE:e.DEVICE,DEVICE_INDEX:e.DEVICE_INDEX,DEVICE_FIRMWARE_TYPE:e.DEVICE_FIRMWARE_TYPE,FILE_DATA:e.FILE_DATA};n[t]=e,this.ws.send(JSON.stringify(s))}},upgrade_path:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"upgrade_path",DEVICE:e.DEVICE,DEVICE_INDEX:e.DEVICE_INDEX,DEVICE_FIRMWARE_TYPE:e.DEVICE_FIRMWARE_TYPE,DEVICE_FIRMWARE_PATH:e.DEVICE_FIRMWARE_PATH};n[t]=e,this.ws.send(JSON.stringify(s))}},upgrade_package_consistency_confirm:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"upgrade_package_consistency_confirm",CODE:e.CODE};n[t]=e,this.ws.send(JSON.stringify(s))}},upgrade_announcement_cancel:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"upgrade_announcement_cancel",CONTENT_ID:e.CONTENT_ID};n[t]=e,this.ws.send(JSON.stringify(s))}},upgrade_query_release_note:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"upgrade_query_release_note",PACKAGE_VERSION:e.PACKAGE_VERSION,LANGUAGE:e.LANGUAGE};n[t]=e,this.ws.send(JSON.stringify(s))}},upgrade_package_type_select:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"upgrade_package_type_select",PACKAGE_TYPE:e.PACKAGE_TYPE,PACKAGE_VERSION:e.PACKAGE_VERSION};n[t]=e,this.ws.send(JSON.stringify(s))}},upgrade_reset_all:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"upgrade_reset_all"};n[t]=e,this.ws.send(JSON.stringify(s))}},upgrade_package_product_type_select:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"upgrade_package_product_type_select",PRODUCT_TYPE:e.PRODUCT_TYPE};n[t]=e,this.ws.send(JSON.stringify(s))}}},nfz_upgrade:{url:i.wsHost+"/controller/nfz_upgrade/",app:null,init:function(t){this.app=t;var s=this.app.activeDevice;this.ws=new WebSocket(this.url+s.FILE),this.ws.onopen=this.onopen,this.ws.onclose=this.onclose,this.ws.onmessage=e.exports.utils.getMessageHander().bind(this);var i=e.exports.utils.register;i.call(this,"upgrade_package",[])},close:function(){var t=e.exports.utils.close.bind(this);t()},onerror:function(e){utils.directTo("index")}},live_video:{url:i.wsHost+"/controller/live_video/",app:null,init:function(e){this.app=e;var t=this.app.activeDevice;this.ws=new WebSocket(this.url+t.FILE),this.ws.binaryType="arraybuffer",this.ws.onopen=this.onopen,this.ws.onclose=this.onclose,this.ws.onerror=this.onerror,this.ws.onmessage=function(e){this.onmessage(e)}.bind(this)},onmessage:function(e){try{var t=JSON.parse(e.data);if(t.EVENT)this.app&&this.app[t.EVENT.toLowerCase()]&&this.app[t.EVENT.toLowerCase()](t);else if(t.SEQ){var s=t.SEQ,i=n[s];o&&1==o.getDebug()&&t.TIP_MSG&&alert(t.TIP_MSG),t.ERROR&&"SUCCESS"===t.ERROR.toUpperCase()&&i&&i.onSuccess?i.onSuccess(t):t.ERROR&&"FAILURE"===t.ERROR.toUpperCase()&&i&&i.onFailure?i.onFailure(t):t.ERROR&&"TIMEOUT"===t.ERROR.toUpperCase()&&i&&i.onTimeout&&i.onTimeout(t),delete n[s]}}catch(e){}},close:function(){this.ws&&this.ws.close&&(this.ws.close(),this.app=null)},get_server_port:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"get_server_port"};n[t]=e,this.ws.send(JSON.stringify(s))}}},live_video_h1:{url:i.wsHost+"/controller/h1_live_video/",app:null},live_video_fpv:{url:i.wsHost+"/controller/fpv_live_video/",app:null},simulator:{url:i.wsHost+"/controller/simulator/",app:null,init:function(e){this.app=e;var t=this.app.activeDevice;this.ws=new WebSocket(this.url+t.FILE),this.ws.onopen=this.onopen,this.ws.onclose=this.onclose,this.ws.onerror=this.onerror,this.ws.onmessage=function(e){this.onmessage(e)}.bind(this)},close:function(){this.ws&&this.ws.close&&(this.ws.close(),this.app=null)},onmessage:function(e){try{var t=JSON.parse(e.data);if(t.EVENT)this.app&&this.app[t.EVENT.toLowerCase()]&&this.app[t.EVENT.toLowerCase()](t);else if(t.SEQ){var s=t.SEQ,i=n[s];o&&1==o.getDebug()&&t.TIP_MSG&&alert(t.TIP_MSG),t.ERROR&&"SUCCESS"===t.ERROR.toUpperCase()&&i&&i.onSuccess?i.onSuccess(t):t.ERROR&&"FAILURE"===t.ERROR.toUpperCase()&&i&&i.onFailure?i.onFailure(t):t.ERROR&&"TIMEOUT"===t.ERROR.toUpperCase()&&i&&i.onTimeout&&i.onTimeout(t),delete n[s]}}catch(e){}},sendinit:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"init"};n[t]=e,this.ws.send(JSON.stringify(s))}},send:function(e,t){if(!this.ws||1==this.ws.readyState){var s=utils.genSeq(Object.keys(n)),i=e;i.SEQ=s,n[s]=t,this.ws.send(JSON.stringify(i))}}},vison_simulator:{url:i.wsHost+"/controller/vison_simulator/",app:null,init:function(t){this.app=t;var s=this.app.activeDevice;this.ws=new WebSocket(this.url+s.FILE),this.ws.onopen=this.onopen,this.ws.onclose=this.onclose,this.ws.onerror=this.onerror,this.ws.onmessage=e.exports.utils.getMessageHander().bind(this);var i=e.exports.utils.register;i.call(this,"init",[],"sendinit")},close:function(){this.ws&&this.ws.close&&(this.ws.close(),this.app=null)},send:function(e,t){if(!this.ws||1==this.ws.readyState){var s=utils.genSeq(Object.keys(n)),i=e;i.SEQ=s,n[s]=t,this.ws.send(JSON.stringify(i))}}},activate:{url:i.wsHost+"/controller/module_activate/",app:null,init:function(e){this.app=e;var t=this.app.activeDevice;this.ws=new WebSocket(this.url+t.FILE),this.ws.onopen=this.onopen,this.ws.onclose=this.onclose,this.ws.onerror=this.onerror,this.ws.onmessage=function(e){this.onmessage(e)}.bind(this)},close:function(){this.ws&&this.ws.close&&(this.ws.close(),this.app=null)},onmessage:function(e){try{var t=JSON.parse(e.data);if(t.EVENT)this.app&&this.app[t.EVENT.toLowerCase()]&&this.app[t.EVENT.toLowerCase()](t);else if(t.SEQ){var s=t.SEQ,i=n[s];o&&1==o.getDebug()&&t.TIP_MSG&&alert(t.TIP_MSG),t.ERROR&&"SUCCESS"===t.ERROR.toUpperCase()&&i&&i.onSuccess?i.onSuccess(t):t.ERROR&&"FAILURE"===t.ERROR.toUpperCase()&&i&&i.onFailure?i.onFailure(t):t.ERROR&&"TIMEOUT"===t.ERROR.toUpperCase()&&i&&i.onTimeout&&i.onTimeout(t),delete n[s]}}catch(e){}},Activate:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"Activate",mobileflag:e.mobileflag};n[t]=e,this.ws.send(JSON.stringify(s))}},DisActivate:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"DisActivate"};n[t]=e,this.ws.send(JSON.stringify(s))}},DisActivateAll:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"DisActivateAll"};n[t]=e,this.ws.send(JSON.stringify(s))}},GetSnList:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"GetSnList"};n[t]=e,this.ws.send(JSON.stringify(s))}},ReplaceSn:function(e,t){if(!this.ws||1==this.ws.readyState){var s=utils.genSeq(Object.keys(n));e.SEQ=s,e.CMD="ReplaceSn",n[s]=t,this.ws.send(JSON.stringify(e))}},QuickActivate:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"QuickActivate"};n[t]=e,this.ws.send(JSON.stringify(s))}}},command:{url:i.wsHost+"/controller/command/",app:null,init:function(e){this.app=e;var t=this.app.activeDevice;this.ws=new WebSocket(this.url+t.FILE),this.ws.onopen=this.onopen,this.ws.onclose=this.onclose,this.ws.onerror=this.onerror,this.ws.onmessage=function(e){this.onmessage(e)}.bind(this)},close:function(){this.ws&&this.ws.close&&(this.ws.close(),this.app=null)},onmessage:function(e){try{var t=JSON.parse(e.data);if(t.EVENT)this.app&&this.app[t.EVENT.toLowerCase()]&&this.app[t.EVENT.toLowerCase()](t);else if(t.SEQ){var s=t.SEQ,i=n[s];o&&1==o.getDebug()&&t.TIP_MSG&&alert(t.TIP_MSG),t.ERROR&&"SUCCESS"===t.ERROR.toUpperCase()&&i&&i.onSuccess?i.onSuccess(t):t.ERROR&&"FAILURE"===t.ERROR.toUpperCase()&&i&&i.onFailure?i.onFailure(t):t.ERROR&&"TIMEOUT"===t.ERROR.toUpperCase()&&i&&i.onTimeout&&i.onTimeout(t),
delete n[s]}}catch(e){}},AlignFreq:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"AlignFreq"};n[t]=e,this.ws.send(JSON.stringify(s))}},CancelAlignFreq:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"CancelAlignFreq"};n[t]=e,this.ws.send(JSON.stringify(s))}}},p4:{url:i.wsHost+"/controller/p4_ext/",app:null,init:function(t){this.app=t;var s=this.app.activeDevice,i=s&&s.FILE||this.app.FILE;this.ws=new WebSocket(this.url+i),this.ws.onopen=this.onopen||this.app&&this.app.onopen,this.ws.onclose=this.onclose||this.app&&this.app.onclose,this.ws.onmessage=function(e){this.onmessage(e)}.bind(this);var o=e.exports.utils.register;o.call(this,"export_rc_log",["VALUE"],"exportRCLog"),o.call(this,"export_wm220_log",["VALUE"],"exportWm220Log"),o.call(this,"get_info",[])},onerror:function(e){utils.directTo("index")},onmessage:function(e){try{var t=JSON.parse(e.data);if(t.EVENT)this.app&&this.app[t.EVENT.toLowerCase()]&&this.app[t.EVENT.toLowerCase()](t);else if(t.SEQ){var s=t.SEQ,i=n[s];o&&1==o.getDebug()&&t.TIP_MSG&&alert(t.TIP_MSG),t.ERROR&&"SUCCESS"===t.ERROR.toUpperCase()&&i&&i.onSuccess?i.onSuccess(t):t.ERROR&&"FAILURE"===t.ERROR.toUpperCase()&&i&&i.onFailure?i.onFailure(t):t.ERROR&&"TIMEOUT"===t.ERROR.toUpperCase()&&i&&i.onTimeout&&i.onTimeout(t),delete n[s]}}catch(e){}},get_file_list:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"get_file_list"};n[t]=e,this.ws.send(JSON.stringify(s))}},download_data_file:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,DIR:e.DIR,CMD:"download_data_file",FILE_NAME:e.FILE_NAME,SAVE_PATH:e.SAVE_PATH};n[t]=e,this.ws.send(JSON.stringify(s))}},open_local_file_path:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"open_local_file_path"};n[t]=e,this.ws.send(JSON.stringify(s))}},leave_file_page:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"leave_file_page"};n[t]=e,this.ws.send(JSON.stringify(s))}},compress_download_data_file:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"compress_download_data_file"};n[t]=e,this.ws.send(JSON.stringify(s))}},close:function(){var t=e.exports.utils.close.bind(this);t()}},calibration:{url:i.wsHost2+"/controller/vision_calibration/",app:null,init:function(e){this.app=e;var t=this.app.activeDevice;this.ws=new WebSocket(this.url+t.FILE),this.ws.onopen=this.onopen,this.ws.onclose=this.onclose,this.ws.onerror=this.onerror,this.ws.onmessage=function(e){this.onmessage(e)}.bind(this)},onmessage:function(e){try{var t=JSON.parse(e.data);if(t.EVENT)this.app&&this.app[t.EVENT.toLowerCase()]&&this.app[t.EVENT.toLowerCase()](t);else if(t.SEQ){console.debug(t);var s=t.SEQ,i=n[s];o&&1==o.getDebug()&&t.TIP_MSG&&alert(t.TIP_MSG),t.ERROR&&"SUCCESS"===t.ERROR.toUpperCase()&&i&&i.onSuccess?i.onSuccess(t):t.ERROR&&"FAILURE"===t.ERROR.toUpperCase()&&i&&i.onFailure?i.onFailure(t):t.ERROR&&"TIMEOUT"===t.ERROR.toUpperCase()&&i&&i.onTimeout&&i.onTimeout(t),delete n[s]}}catch(e){}},close:function(){this.ws&&this.ws.close&&(this.ws.close(),this.app=null)},initVisionCalibration:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,WIDTH:e.WIDTH||1200,HEIGHT:e.HEIGHT||900,CMD:"vision_calibration_init",SCREEN_WIDTH:e.SCREEN_WIDTH,SCREEN_HEIGHT:e.SCREEN_HEIGHT};n[t]=e,this.ws.send(JSON.stringify(s))}},setCamPair:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,INDEX:e.INDEX,CMD:"vision_calibration_set_cam_pair"};n[t]=e,this.ws.send(JSON.stringify(s))}},enterMatchRect:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"vision_calibration_enter_match_rect"};n[t]=e,this.ws.send(JSON.stringify(s))}},enterTrack:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"vision_calibration_enter_track"};n[t]=e,this.ws.send(JSON.stringify(s))}},openFolder:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,DIR:e.DIR,FOLDER:e.FOLDER,CMD:"open_folder"};n[t]=e,this.ws.send(JSON.stringify(s))}},startCalculation:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"vision_calibration_start_calculation"};n[t]=e,this.ws.send(JSON.stringify(s))}},stop:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"vision_calibration_stop"};n[t]=e,this.ws.send(JSON.stringify(s))}},vision_calibration_set_dpi:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"vision_calibration_set_dpi",VALUE:e.VALUE};n[t]=e,this.ws.send(JSON.stringify(s))}},vision_calibration_config_screen_size:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"vision_calibration_config_screen_size"};n[t]=e,this.ws.send(JSON.stringify(s))}}},calibration_common:{url:i.wsHost2+"/controller/vision_calibration/",app:null,init:function(t){this.app=t;var s=this.app.activeDevice;this.ws=new WebSocket(this.url+s.FILE),this.ws.onopen=this.onopen,this.ws.onclose=this.onclose,this.ws.onerror=this.onerror,this.ws.onmessage=e.exports.utils.getMessageHander().bind(this);var i=e.exports.utils.register;i.call(this,"vision_calibration_init",["DEVICE","WIDTH","HEIGHT","SCREEN_WIDTH","SCREEN_HEIGHT"],"initVisionCalibration"),i.call(this,"vision_calibration_config_screen_size",[]),i.call(this,"vision_calibration_set_screen_size",["VALUE"]),i.call(this,"vision_calibration_set_cam_pair",["INDEX"],"setCamPair"),i.call(this,"vision_calibration_enter_match_rect",["COUNT"],"enterMatchRect"),i.call(this,"vision_calibration_enter_track",["COUNT"],"enterTrack"),i.call(this,"vision_calibration_start_calculation",[],"startCalculation"),i.call(this,"vision_calibration_stop",[],"stop")},close:function(){console.log("calibration close");var t=e.exports.utils.close.bind(this);t()}},calibration_assist:{url:i.wsHost+"/controller/vision_calibration/",app:null,init:function(e){this.app=e;var t=this.app.activeDevice;this.ws=new WebSocket(this.url+t.FILE),this.ws.onopen=this.onopen,this.ws.onclose=this.onclose,this.ws.onerror=this.onerror,this.ws.onmessage=function(e){this.onmessage(e)}.bind(this)},onmessage:function(e){try{var t=JSON.parse(e.data);if(t.EVENT)this.app&&this.app[t.EVENT.toLowerCase()]&&this.app[t.EVENT.toLowerCase()](t);else if(t.SEQ){var s=t.SEQ,i=n[s];o&&1==o.getDebug()&&t.TIP_MSG&&alert(t.TIP_MSG),t.ERROR&&"SUCCESS"===t.ERROR.toUpperCase()&&i&&i.onSuccess?i.onSuccess(t):t.ERROR&&"FAILURE"===t.ERROR.toUpperCase()&&i&&i.onFailure?i.onFailure(t):t.ERROR&&"TIMEOUT"===t.ERROR.toUpperCase()&&i&&i.onTimeout&&i.onTimeout(t),delete n[s]}}catch(e){}},close:function(){this.ws&&this.ws.close&&(this.ws.close(),this.app=null)},upload_calibrate_info:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"upload_calibrate_info",INFO:e.INFO};n[t]=e,this.ws.send(JSON.stringify(s))}}},esc:{url:i.wsHost+"/esc/config/",app:null,init:function(t){this.app=t;var s=this.app.activeDevice;this.ws=new WebSocket(this.url+s.FILE),this.ws.onopen=this.onopen,this.ws.onclose=this.onclose,this.ws.onerror=this.onerror,this.ws.onmessage=e.exports.utils.getMessageHander().bind(this);var i=e.exports.utils.register;i.call(this,"SetParamTable",["VALUE","INDEX"]),i.call(this,"GetParamTable",["INDEX"]),i.call(this,"DoMotorTest",["INDEX"]),i.call(this,"DoFactoryReset",["INDEX"]),i.call(this,"GetFlashActiveStatus",[]),i.call(this,"ReadFlashData",[]),i.call(this,"SelectFlashData",["NAME"]),i.call(this,"GetSingleParam",["PARAM"]),i.call(this,"GetFlashWriteFreq",[]),i.call(this,"SetFlashWriteFreq",["FREQ"]),i.call(this,"EraseFlashData",[]),i.call(this,"SaveViewerData",["PATH"]),i.call(this,"SetCtrlInfo",["LED"]),i.call(this,"GetCtrlInfo",[])},close:function(){var t=e.exports.utils.close.bind(this);t()}},flightdata:{url:i.wsHost+"/controller/flight_data/",app:null,init:function(e){this.app=e;var t=this.app.activeDevice;this.ws=new WebSocket(this.url+t.FILE),this.ws.onopen=this.onopen,this.ws.onclose=this.onclose,this.ws.onerror=this.onerror,this.ws.onmessage=function(e){this.onmessage(e)}.bind(this)},onmessage:function(e){try{var t=JSON.parse(e.data);if(t.EVENT)this.app&&this.app[t.EVENT.toLowerCase()]&&this.app[t.EVENT.toLowerCase()](t);else if(t.SEQ){var s=t.SEQ,i=n[s];o&&1==o.getDebug()&&t.TIP_MSG&&alert(t.TIP_MSG),t.ERROR&&"SUCCESS"===t.ERROR.toUpperCase()&&i&&i.onSuccess?i.onSuccess(t):t.ERROR&&"FAILURE"===t.ERROR.toUpperCase()&&i&&i.onFailure?i.onFailure(t):t.ERROR&&"TIMEOUT"===t.ERROR.toUpperCase()&&i&&i.onTimeout&&i.onTimeout(t),delete n[s]}}catch(e){}},close:function(){this.ws&&this.ws.close&&(this.ws.close(),this.app=null)},SycFile:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,OPERATION:"SycFile",FILE_NAME:e.FILE_NAME};n[t]=e,this.ws.send(JSON.stringify(s))}},LoadFile:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,OPERATION:"LoadFile",FILE_NAME:e.FILE_NAME};n[t]=e,this.ws.send(JSON.stringify(s))}}},recorderdata:{url:i.wsHost+"/controller/recorder_data/",app:null,init:function(e){this.app=e;var t=this.app.activeDevice;this.ws=new WebSocket(this.url+t.FILE),this.ws.onopen=this.onopen,this.ws.onclose=this.onclose,this.ws.onerror=this.onerror,this.ws.onmessage=function(e){this.onmessage(e)}.bind(this)},onmessage:function(e){try{var t=JSON.parse(e.data);if(t.EVENT)this.app&&this.app[t.EVENT.toLowerCase()]&&this.app[t.EVENT.toLowerCase()](t);else if(t.SEQ){var s=t.SEQ,i=n[s];o&&1==o.getDebug()&&t.TIP_MSG&&alert(t.TIP_MSG),t.ERROR&&"SUCCESS"===t.ERROR.toUpperCase()&&i&&i.onSuccess?i.onSuccess(t):t.ERROR&&"FAILURE"===t.ERROR.toUpperCase()&&i&&i.onFailure?i.onFailure(t):t.ERROR&&"TIMEOUT"===t.ERROR.toUpperCase()&&i&&i.onTimeout&&i.onTimeout(t),delete n[s]}}catch(e){}},close:function(){this.ws&&this.ws.close&&(this.ws.close(),this.app=null)},FilterPack:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,OPERATION:"FilterPack",Pack_List:e.Pack_List};n[t]=e,this.ws.send(JSON.stringify(s))}}},batteryinfo:{url:i.wsHost+"/battery_info/",app:null,init:function(e){this.app=e;var t=this.app.activeDevice;this.ws=new WebSocket(this.url+t.FILE),this.ws.onopen=this.onopen,this.ws.onclose=this.onclose,this.ws.onerror=this.onerror,this.ws.onmessage=function(e){this.onmessage(e)}.bind(this)},onmessage:function(e){try{var t=JSON.parse(e.data);if(t.EVENT)this.app&&this.app[t.EVENT.toLowerCase()]&&this.app[t.EVENT.toLowerCase()](t);else if(t.SEQ){var s=t.SEQ,i=n[s];o&&1==o.getDebug()&&t.TIP_MSG&&alert(t.TIP_MSG),t.ERROR&&"SUCCESS"===t.ERROR.toUpperCase()&&i&&i.onSuccess?i.onSuccess(t):t.ERROR&&"FAILURE"===t.ERROR.toUpperCase()&&i&&i.onFailure?i.onFailure(t):t.ERROR&&"TIMEOUT"===t.ERROR.toUpperCase()&&i&&i.onTimeout&&i.onTimeout(t),delete n[s]}}catch(e){}},close:function(){this.ws&&this.ws.close&&(this.ws.close(),this.app=null)}},iosdentersd:{url:i.wsHost+"/iosd/enter_sd/",app:null,init:function(e){this.app=e;var t=this.app.activeDevice;this.ws=new WebSocket(this.url+t.FILE),this.ws.onopen=this.onopen,this.ws.onclose=this.onclose,this.ws.onerror=this.onerror,this.ws.onmessage=function(e){this.onmessage(e)}.bind(this)},onmessage:function(e){try{var t=JSON.parse(e.data);if(t.EVENT)this.app&&this.app[t.EVENT.toLowerCase()]&&this.app[t.EVENT.toLowerCase()](t);else if(t.SEQ){var s=t.SEQ,i=n[s];o&&1==o.getDebug()&&t.TIP_MSG&&alert(t.TIP_MSG),t.ERROR&&"SUCCESS"===t.ERROR.toUpperCase()&&i&&i.onSuccess?i.onSuccess(t):t.ERROR&&"FAILURE"===t.ERROR.toUpperCase()&&i&&i.onFailure?i.onFailure(t):t.ERROR&&"TIMEOUT"===t.ERROR.toUpperCase()&&i&&i.onTimeout&&i.onTimeout(t),delete n[s]}}catch(e){}},close:function(){this.ws&&this.ws.close&&(this.ws.close(),this.app=null)}},hil:{url:i.wsHost+"/hil/config/",app:null,init:function(e){this.app=e;var t=this.app.activeDevice;this.ws=new WebSocket(this.url+t.FILE),this.ws.onopen=this.onopen,this.ws.onclose=this.onclose,this.ws.onerror=this.onerror,this.ws.onmessage=function(e){this.onmessage(e)}.bind(this)},onmessage:function(e){try{var t=JSON.parse(e.data);if(t.EVENT)this.app&&this.app[t.EVENT.toLowerCase()]&&this.app[t.EVENT.toLowerCase()](t);else if(t.SEQ){var s=t.SEQ,i=n[s];o&&1==o.getDebug()&&t.TIP_MSG&&alert(t.TIP_MSG),t.ERROR&&"SUCCESS"===t.ERROR.toUpperCase()&&i&&i.onSuccess?i.onSuccess(t):t.ERROR&&"FAILURE"===t.ERROR.toUpperCase()&&i&&i.onFailure?i.onFailure(t):t.ERROR&&"TIMEOUT"===t.ERROR.toUpperCase()&&i&&i.onTimeout&&i.onTimeout(t),delete n[s]}}catch(e){}},close:function(){this.ws&&this.ws.close&&(this.ws.close(),this.app=null)},add_data:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"add_data",DATA_TYPE:e.DATA_TYPE,DATA:e.DATA};n[t]=e,this.ws.send(JSON.stringify(s))}},clear_data:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"clear_data"};n[t]=e,this.ws.send(JSON.stringify(s))}},general_cmd0:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"general_cmd",VERSION:0,CMD_ID:e.CMD_ID};n[t]=e,this.ws.send(JSON.stringify(s))}},general_cmd1:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"general_cmd",VERSION:1,CMD_ID:e.CMD_ID,SENDER:e.SENDER,SENDER_INDEX:e.SENDER_INDEX,RECEIVER:e.RECEIVER,RECEIVER_INDEX:e.RECEIVER_INDEX,CMD_TYPE:e.CMD_TYPE,CMD_SET:e.CMD_SET};n[t]=e,this.ws.send(JSON.stringify(s))}},send_cmd:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"send_cmd",IS_TIMER:e.IS_TIMER,PERIOD:e.PERIOD,CMD_LIST:e.CMD_LIST};n[t]=e,this.ws.send(JSON.stringify(s))}},stop_cmd:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"stop_cmd"};n[t]=e,this.ws.send(JSON.stringify(s))}},filter_push_data_notenbale:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"filter_push_data",IS_ENABLE:!1};n[t]=e,this.ws.send(JSON.stringify(s))}},filter_push_data:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"filter_push_data",IS_ENABLE:!0,SENDER:e.SENDER,SENDER_INDEX:e.SENDER_INDEX,RECEIVER:e.RECEIVER,RECEIVER_INDEX:e.RECEIVER_INDEX,CMD_SET:e.CMD_SET,CMD_ID:e.CMD_ID};n[t]=e,this.ws.send(JSON.stringify(s))}}},grap_pack:{url:i.wsHost+"/hil/grap_pack/",app:null,init:function(e){this.app=e;var t=this.app.activeDevice;this.ws=new WebSocket(this.url+t.FILE),this.ws.onopen=this.onopen,this.ws.onclose=this.onclose,this.ws.onerror=this.onerror,this.ws.onmessage=function(e){this.onmessage(e)}.bind(this)},onmessage:function(e){try{var t=JSON.parse(e.data);if(t.EVENT)this.app&&this.app[t.EVENT.toLowerCase()]&&this.app[t.EVENT.toLowerCase()](t);else if(t.SEQ){var s=t.SEQ,i=n[s];o&&1==o.getDebug()&&t.TIP_MSG&&alert(t.TIP_MSG),t.ERROR&&"SUCCESS"===t.ERROR.toUpperCase()&&i&&i.onSuccess?i.onSuccess(t):t.ERROR&&"FAILURE"===t.ERROR.toUpperCase()&&i&&i.onFailure?i.onFailure(t):t.ERROR&&"TIMEOUT"===t.ERROR.toUpperCase()&&i&&i.onTimeout&&i.onTimeout(t),delete n[s]}}catch(e){}},close:function(){this.ws&&this.ws.close&&(this.ws.close(),this.app=null)},set_rule:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"set_rule",SENDER:e.SENDER,SENDER_INDEX:e.SENDER_INDEX,RECEIVER:e.RECEIVER,RECEIVER_INDEX:e.RECEIVER_INDEX,CMD_SET:e.CMD_SET,CMD_ID:e.CMD_ID,ENC_TYPE:e.ENC_TYPE,PACK_DIR:e.PACK_DIR,IS_LIMIT_LINK:e.IS_LIMIT_LINK,ACK_TYPE:e.ACK_TYPE,PROTOCAL_TYPE:e.PROTOCAL_TYPE,LINK_NAME:e.LINK_NAME};n[t]=e,this.ws.send(JSON.stringify(s))}}},hil_ping:{url:i.wsHost+"/hil/ping/",app:null,init:function(e){this.app=e;var t=this.app.activeDevice;this.ws=new WebSocket(this.url+t.FILE),this.ws.onopen=this.onopen,this.ws.onclose=this.onclose,this.ws.onerror=this.onerror,this.ws.onmessage=function(e){this.onmessage(e)}.bind(this)},onmessage:function(e){try{var t=JSON.parse(e.data);if(t.EVENT)this.app&&this.app[t.EVENT.toLowerCase()]&&this.app[t.EVENT.toLowerCase()](t);else if(t.SEQ){var s=t.SEQ,i=n[s];o&&1==o.getDebug()&&t.TIP_MSG&&alert(t.TIP_MSG),t.ERROR&&"SUCCESS"===t.ERROR.toUpperCase()&&i&&i.onSuccess?i.onSuccess(t):t.ERROR&&"FAILURE"===t.ERROR.toUpperCase()&&i&&i.onFailure?i.onFailure(t):t.ERROR&&"TIMEOUT"===t.ERROR.toUpperCase()&&i&&i.onTimeout&&i.onTimeout(t),delete n[s]}}catch(e){}},close:function(){this.ws&&this.ws.close&&(this.ws.close(),this.app=null)},start_ping:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"start_ping",RECEIVER:e.RECEIVER,RECEIVER_INDEX:e.RECEIVER_INDEX,TIME_OUT_PERIOD:e.TIME_OUT_PERIOD,SEND_INTERVAL:e.SEND_INTERVAL,DATA_LEN:e.DATA_LEN,FIX_VALUE:e.FIX_VALUE,DATA_VALUE:e.DATA_VALUE};n[t]=e,this.ws.send(JSON.stringify(s))}},stop_ping:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"stop_ping"};n[t]=e,this.ws.send(JSON.stringify(s))}}},hil_loop_back:{url:i.wsHost+"/hil/loop_back/",app:null,init:function(e){this.app=e;var t=this.app.activeDevice;this.ws=new WebSocket(this.url+t.FILE),this.ws.onopen=this.onopen,this.ws.onclose=this.onclose,this.ws.onerror=this.onerror,this.ws.onmessage=function(e){this.onmessage(e)}.bind(this)},onmessage:function(e){try{var t=JSON.parse(e.data);if(t.EVENT)this.app&&this.app[t.EVENT.toLowerCase()]&&this.app[t.EVENT.toLowerCase()](t);else if(t.SEQ){var s=t.SEQ,i=n[s];o&&1==o.getDebug()&&t.TIP_MSG&&alert(t.TIP_MSG),t.ERROR&&"SUCCESS"===t.ERROR.toUpperCase()&&i&&i.onSuccess?i.onSuccess(t):t.ERROR&&"FAILURE"===t.ERROR.toUpperCase()&&i&&i.onFailure?i.onFailure(t):t.ERROR&&"TIMEOUT"===t.ERROR.toUpperCase()&&i&&i.onTimeout&&i.onTimeout(t),delete n[s]}}catch(e){}},close:function(){this.ws&&this.ws.close&&(this.ws.close(),this.app=null)},start_loop_back:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"start_loop_back",LINK_NAME:e.LINK_NAME,SEND_DATA:e.SEND_DATA};n[t]=e,this.ws.send(JSON.stringify(s))}},stop_loop_back:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"stop_loop_back"};n[t]=e,this.ws.send(JSON.stringify(s))}}},ppe:{url:i.wsHost+"/ppe",app:null,init:function(e){this.app=e,this.ws=new WebSocket(this.url),this.ws.onopen=this.onopen,this.ws.onclose=this.onclose,this.ws.onerror=this.onerror,this.ws.onmessage=function(e){this.onmessage(e)}.bind(this)},onmessage:function(e){try{var t=JSON.parse(e.data);t.EVENT&&this.app[t.EVENT.toLowerCase()]&&this.app[t.EVENT.toLowerCase()](t)}catch(e){}},send_points_info:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"Do_PPE",VALUE:e};if(1==this.app.$root.linkMode){var i=s;s={},s.EVENT="command",s.USER_ID=1,s.USER_NAME="000",s.PWD="233338",s.CONTENT=i}this.ws.send(JSON.stringify(s))}},simulate_user_login:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={EVENT:"login",USER_ID:1,USER_NAME:"000",PWD:"123"};n[t]=e,this.ws.send(JSON.stringify(s))}}},gs:{url:i.wsHost+"/groundstation",app:null,init:function(e){this.app=e,this.ws=new WebSocket(this.url),this.ws.onopen=this.onopen,this.ws.onclose=this.onclose,this.ws.onerror=this.onerror,this.ws.onmessage=function(e){this.onmessage(e)}.bind(this)},onmessage:function(e){try{var t=JSON.parse(e.data);if(t.EVENT)this.app&&this.app[t.EVENT.toLowerCase()]&&this.app[t.EVENT.toLowerCase()](t);else if(t.SEQ){var s=t.SEQ,i=n[s];o&&1==o.getDebug()&&t.TIP_MSG&&alert(t.TIP_MSG),t.ERROR&&"SUCCESS"===t.ERROR.toUpperCase()&&i&&i.onSuccess?i.onSuccess(t):t.ERROR&&"FAILURE"===t.ERROR.toUpperCase()&&i&&i.onFailure?i.onFailure(t):t.ERROR&&"TIMEOUT"===t.ERROR.toUpperCase()&&i&&i.onTimeout?i.onTimeout(t):i&&i.onFailure(t),delete n[s]}}catch(e){}},close:function(){this.ws&&this.ws.close&&(this.ws.close(),this.app=null)},get_aircraft_list:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"GetAircraftList"};n[t]=e,this.ws.send(JSON.stringify(s))}},set_nav_mode:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"SetNavigationMode",VALUE:{NAVIGATION_MODE:e.NAVIGATION_MODE,AIRCRAFT:e.AIRCRAFT}};n[t]=e,this.ws.send(JSON.stringify(s))}},dl_route:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"DownloadWayLineMission",VALUE:{AIRCRAFT:e.AIRCRAFT}};n[t]=e,this.ws.send(JSON.stringify(s))}},upload_route:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"UploadWayLineMission",VALUE:e.VALUE};n[t]=e,this.ws.send(JSON.stringify(s))}},get_route_list:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"WayLineList"};n[t]=e,this.ws.send(JSON.stringify(s))}},get_route_info:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"GetWayline"};n[t]=e,this.ws.send(JSON.stringify(s))}},save_route_info:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"SaveWayline",VALUE:e.VALUE};n[t]=e,this.ws.send(JSON.stringify(s))}},start_stop_route:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"StartOrCancelWayLineMission",VALUE:{AIRCRAFT:e.AIRCRAFT,GO_STOP:e.GO_STOP}};n[t]=e,this.ws.send(JSON.stringify(s))}},pause_continue_route:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"PauseOrContinueWayLineMission",VALUE:{AIRCRAFT:e.AIRCRAFT,PAUSE:e.PAUSE}};n[t]=e,this.ws.send(JSON.stringify(s))}},get_nofly_zone:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"GetNoflyZone",VALUE:{LATI:e.LATI,LONTI:e.LONTI}};n[t]=e,this.ws.send(JSON.stringify(s))}},do_function:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"DoFunction",VALUE:{AIRCRAFT:e.AIRCRAFT,FUNCTION:e.FUNCTION}};n[t]=e,this.ws.send(JSON.stringify(s))}},start_simulation:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"StartSimulation",VALUE:{AIRCRAFT:e.AIRCRAFT,LATI:e.LATI,LONTI:e.LONTI}};n[t]=e,this.ws.send(JSON.stringify(s))}},stop_simulation:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"StopSimulation",VALUE:{AIRCRAFT:e.AIRCRAFT}};n[t]=e,this.ws.send(JSON.stringify(s))}},click_go:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"ClickGo",VALUE:{AIRCRAFT:e.AIRCRAFT,LATI:e.LATI,LONTI:e.LONTI,HEIGHT:e.HEIGHT,SPEED:e.SPEED}};n[t]=e,this.ws.send(JSON.stringify(s))}},get_latlng:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"GetIPLocation"};n[t]=e,this.ws.send(JSON.stringify(s))}},get_break_point_info:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"GetBreakPointInfo",VALUE:{AIRCRAFT:e.AIRCRAFT}};n[t]=e,this.ws.send(JSON.stringify(s))}},set_LBVideo_output_mode:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"SetLBVideoOutputMode",VALUE:{AIRCRAFT:e.AIRCRAFT,EXT_ENABLED:e.extEnable,OUTPUT:e.output,BANDWIDTH_PERCENT:0,TRANS_MODE:0}};n[t]=e,this.ws.send(JSON.stringify(s))}},get_LBVideo_output_mode:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"GetDM368Info",VALUE:{AIRCRAFT:e.AIRCRAFT}};n[t]=e,this.ws.send(JSON.stringify(s))}},set_camera_ev:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"SetCameraEV",VALUE:{AIRCRAFT:e.AIRCRAFT,EV:e.ev}};n[t]=e,this.ws.send(JSON.stringify(s))}},set_camera_ev:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"SetCameraEV",VALUE:{AIRCRAFT:e.AIRCRAFT,EV:e.EV}};n[t]=e,this.ws.send(JSON.stringify(s))}},set_camera_iso:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"SetCameraISO",VALUE:{AIRCRAFT:e.AIRCRAFT,ISO:e.ISO}};n[t]=e,this.ws.send(JSON.stringify(s))}},set_camera_shutter:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"SetCameraShutterSpeed",VALUE:{AIRCRAFT:e.AIRCRAFT,CTRL_MODE:e.ctrlMode,INTEGER:e.integer,DECIMALS:e.decimals,IS_RECIPROCAL:e.isReciprocal}};n[t]=e,this.ws.send(JSON.stringify(s))}}},gs_push:{url:i.wsHost+"/groundstation_push",app:null,init:function(e){this.app=e,this.ws=new WebSocket(this.url),this.ws.onopen=this.onopen,this.ws.onclose=this.onclose,this.ws.onerror=this.onerror,this.ws.onmessage=function(e){this.onmessage(e)}.bind(this)},onmessage:function(e){try{var t=JSON.parse(e.data);if(t.EVENT)this.app&&this.app[t.EVENT.toLowerCase()]&&this.app[t.EVENT.toLowerCase()](t);else if(t.SEQ){var s=t.SEQ,i=n[s];o&&1==o.getDebug()&&t.TIP_MSG&&alert(t.TIP_MSG),t.ERROR&&"SUCCESS"===t.ERROR.toUpperCase()&&i&&i.onSuccess?i.onSuccess(t):t.ERROR&&"FAILURE"===t.ERROR.toUpperCase()&&i&&i.onFailure?i.onFailure(t):t.ERROR&&"TIMEOUT"===t.ERROR.toUpperCase()&&i&&i.onTimeout&&i.onTimeout(t),delete n[s]}}catch(e){}},close:function(){this.ws&&this.ws.close&&(this.ws.close(),this.app=null)}},cert_import:{url:i.wsHost+"/controller/cert_import/",app:null,init:function(e){this.app=e;var t=this.app.activeDevice;this.ws=new WebSocket(this.url+t.FILE),this.ws.onopen=this.onopen,this.ws.onclose=this.onclose,this.ws.onerror=this.onerror,this.ws.onmessage=function(e){this.onmessage(e)}.bind(this)},onmessage:function(e){try{var t=JSON.parse(e.data);if(t.EVENT)this.app&&this.app[t.EVENT.toLowerCase()]&&this.app[t.EVENT.toLowerCase()](t);else if(t.SEQ){var s=t.SEQ,i=n[s];o&&1==o.getDebug()&&t.TIP_MSG&&alert(t.TIP_MSG),t.ERROR&&"SUCCESS"===t.ERROR.toUpperCase()&&i&&i.onSuccess?i.onSuccess(t):t.ERROR&&"FAILURE"===t.ERROR.toUpperCase()&&i&&i.onFailure?i.onFailure(t):t.ERROR&&"TIMEOUT"===t.ERROR.toUpperCase()&&i&&i.onTimeout&&i.onTimeout(t),delete n[s]}}catch(e){}},close:function(){this.ws&&this.ws.close&&(this.ws.close(),this.app=null)},server_import:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"server_import",VALID_TIME:e.VALID_TIME,SERVICES:e.SERVICES};n[t]=e,this.ws.send(JSON.stringify(s))}},login_server:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"login_server",USER_NAME:e.USER_NAME,PASSWORD:e.PASSWORD};n[t]=e,this.ws.send(JSON.stringify(s))}},get_camera_sn:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"get_camera_sn"};n[t]=e,this.ws.send(JSON.stringify(s))}},local_import:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"local_import",FILE_PATH:e.FILE_PATH};n[t]=e,this.ws.send(JSON.stringify(s))}}},user_feedback:{url:i.wsHost+"/controller/user_feedback/",app:null,init:function(e){this.app=e;var t=this.app.activeDevice;this.ws=new WebSocket(this.url+t.FILE),this.ws.onopen=this.onopen,this.ws.onclose=this.onclose,this.ws.onerror=this.onerror,this.ws.onmessage=function(e){this.onmessage(e)}.bind(this)},onmessage:function(e){try{var t=JSON.parse(e.data);if(t.EVENT)this.app&&this.app[t.EVENT.toLowerCase()]&&this.app[t.EVENT.toLowerCase()](t);else if(t.SEQ){var s=t.SEQ,i=n[s];o&&1==o.getDebug()&&t.TIP_MSG&&alert(t.TIP_MSG),t.ERROR&&"SUCCESS"===t.ERROR.toUpperCase()&&i&&i.onSuccess?i.onSuccess(t):t.ERROR&&"FAILURE"===t.ERROR.toUpperCase()&&i&&i.onFailure?i.onFailure(t):t.ERROR&&"TIMEOUT"===t.ERROR.toUpperCase()&&i&&i.onTimeout&&i.onTimeout(t),delete n[s]}}catch(e){}},close:function(){this.ws&&this.ws.close&&(this.ws.close(),this.app=null)}},tof_3d:{url:i.wsHost+"/controller/tof_3d/",app:null,init:function(t){this.app=t;var s=this.app.activeDevice;this.ws=new WebSocket(this.url+s.FILE),this.ws.onopen=this.onopen,this.ws.onclose=this.onclose,this.ws.onerror=this.onerror,this.ws.onmessage=e.exports.utils.getMessageHander().bind(this);var i=e.exports.utils.register;i.call(this,"3d_tof_check_connection"),i.call(this,"3d_tof_check_frame_rate",["DIRECTION"]),i.call(this,"3d_tof_check_intergration_time",["DIRECTION"]),i.call(this,"3d_tof_check_tillum",["DIRECTION"]),i.call(this,"3d_tof_check_zsensor",["DIRECTION"]),i.call(this,"3d_tof_set_phase_offset",["VALUE","CLEAR_CMD","DIRECTION"]),i.call(this,"3d_tof_set_temperature_value",["SCALE","COEFF_I","COEFF_S","DIRECTION"]),i.call(this,"3d_tof_set_frame_rate",["VALUE","DIRECTION"]),i.call(this,"3d_tof_set_intergration_time",["VALUE","DIRECTION"]),i.call(this,"3d_tof_set_command",["VALUE","DIRECTION"]),i.call(this,"3d_tof_set_filter",["VALUE","AMPLIUDE","DENOISE"]),i.call(this,"3d_tof_check_value_mouse_position",["TYPE","X","Y"]),i.call(this,"3d_tof_add_watch_points",["POINTS"]),i.call(this,"3d_tof_delete_watch_points",["POINTS"]),i.call(this,"3d_tof_set_data_save",["VALUE"]),i.call(this,"3d_tof_set_open_path"),i.call(this,"3d_tof_set_threshold",["TYPE","MAX_THRESHOLD","MIN_THRESHOLD"])},close:function(){var t=e.exports.utils.close.bind(this);t()}},tof:{url:i.wsHost+"/controller/tof/",app:null,init:function(e){this.app=e;var t=this.app.activeDevice;this.ws=new WebSocket(this.url+t.FILE),this.ws.onopen=this.onopen,this.ws.onclose=this.onclose,this.ws.onerror=this.onerror,this.ws.onmessage=function(e){this.onmessage(e)}.bind(this)},onmessage:function(e){try{var t=JSON.parse(e.data);if(t.EVENT)this.app&&this.app[t.EVENT.toLowerCase()]&&this.app[t.EVENT.toLowerCase()](t);else if(t.SEQ){var s=t.SEQ,i=n[s];o&&1==o.getDebug()&&t.TIP_MSG&&alert(t.TIP_MSG),t.ERROR&&"SUCCESS"===t.ERROR.toUpperCase()&&i&&i.onSuccess?i.onSuccess(t):t.ERROR&&"FAILURE"===t.ERROR.toUpperCase()&&i&&i.onFailure?i.onFailure(t):t.ERROR&&"TIMEOUT"===t.ERROR.toUpperCase()&&i&&i.onTimeout&&i.onTimeout(t),delete n[s]}}catch(e){}},close:function(){this.ws&&this.ws.close&&(this.ws.close(),this.app=null)},init_tof:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"init_tof",DIRECTION:e.DIRECTION,CTROL_CMD:e.CTROL_CMD};n[t]=e,this.ws.send(JSON.stringify(s))}},set_direction:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"set_direction",DIRECTION:e.DIRECTION};n[t]=e,this.ws.send(JSON.stringify(s))}},set_ctrol_cmd:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"set_ctrol_cmd",CTROL_CMD:e.CTROL_CMD};n[t]=e,this.ws.send(JSON.stringify(s))}},set_delta_time:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"set_delta_time",DELTA_TIME:e.DELTA_TIME};n[t]=e,this.ws.send(JSON.stringify(s))}},set_led_power:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"set_led_power",DRIVER_RANGE:e.DRIVER_RANGE,EMITTER_DAC:e.EMITTER_DAC};n[t]=e,this.ws.send(JSON.stringify(s))}},set_tempr_cmd:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"set_tempr_cmd",TEMPR_REFERENCE:e.TEMPR_REFERENCE,PHASE_EXPONENT:e.PHASE_EXPONENT,PHASE_OFFSET_TEMPR_CO1:e.PHASE_OFFSET_TEMPR_CO1,PHASE_OFFSET_TEMPR_CO2:e.PHASE_OFFSET_TEMPR_CO2};n[t]=e,this.ws.send(JSON.stringify(s))}},set_bg_light:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"set_bg_light",PHASE_OFFSET_AMBIENT_CO1:e.PHASE_OFFSET_AMBIENT_CO1,PHASE_OFFSET_AMBIENT_CO2:e.PHASE_OFFSET_AMBIENT_CO2};n[t]=e,this.ws.send(JSON.stringify(s))}},start_calibrate:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"start_calibrate",STEP:e.STEP,DISTANCE:e.DISTANCE};n[t]=e,this.ws.send(JSON.stringify(s));
}},get_tof_calibrate_result:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"get_tof_calibrate_result"};n[t]=e,this.ws.send(JSON.stringify(s))}}},ultrasonic:{url:i.wsHost+"/controller/ultrasonic/",app:null,init:function(e){this.app=e;var t=this.app.activeDevice;this.ws=new WebSocket(this.url+t.FILE),this.ws.onopen=this.onopen,this.ws.onclose=this.onclose,this.ws.onerror=this.onerror,this.ws.onmessage=function(e){this.onmessage(e)}.bind(this)},onmessage:function(e){try{var t=JSON.parse(e.data);if(t.EVENT)this.app&&this.app[t.EVENT.toLowerCase()]&&this.app[t.EVENT.toLowerCase()](t);else if(t.SEQ){var s=t.SEQ,i=n[s];o&&1==o.getDebug()&&t.TIP_MSG&&alert(t.TIP_MSG),t.ERROR&&"SUCCESS"===t.ERROR.toUpperCase()&&i&&i.onSuccess?i.onSuccess(t):t.ERROR&&"FAILURE"===t.ERROR.toUpperCase()&&i&&i.onFailure?i.onFailure(t):t.ERROR&&"TIMEOUT"===t.ERROR.toUpperCase()&&i&&i.onTimeout&&i.onTimeout(t),delete n[s]}}catch(e){}},close:function(){this.ws&&this.ws.close&&(this.ws.close(),this.app=null)},set_direction:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"set_direction",DIRECTION:e.DIRECTION};n[t]=e,console.log("set direction, ",JSON.stringify(s)),this.ws.send(JSON.stringify(s))}}},radio:{url:i.wsHost+"/radio/settings/",app:null,init:function(e){this.app=e;var t=this.app.activeDevice;this.ws=new WebSocket(this.url+t.FILE),this.ws.onopen=this.onopen,this.ws.onclose=this.onclose,this.ws.onerror=this.onerror,this.ws.onmessage=function(e){this.onmessage(e)}.bind(this)},onmessage:function(e){try{var t=JSON.parse(e.data);if(t.EVENT)this.app&&this.app[t.EVENT.toLowerCase()]&&this.app[t.EVENT.toLowerCase()](t);else if(t.SEQ){var s=t.SEQ,i=n[s];o&&1==o.getDebug()&&t.TIP_MSG&&alert(t.TIP_MSG),t.ERROR&&"SUCCESS"===t.ERROR.toUpperCase()&&i&&i.onSuccess?i.onSuccess(t):t.ERROR&&"FAILURE"===t.ERROR.toUpperCase()&&i&&i.onFailure?i.onFailure(t):t.ERROR&&"TIMEOUT"===t.ERROR.toUpperCase()&&i&&i.onTimeout&&i.onTimeout(t),delete n[s]}}catch(e){}},close:function(){this.ws&&this.ws.close&&(this.ws.close(),this.app=null)},get_work_mode:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"command",OP:"GET",INDEX:"work_mode"};n[t]=e,this.ws.send(JSON.stringify(s))}},set_work_mode:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"command",OP:"SET",INDEX:"work_mode",VALUE:e.VALUE};n[t]=e,this.ws.send(JSON.stringify(s))}},clear_info:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"command",OP:"SET",INDEX:"clear_info"};n[t]=e,this.ws.send(JSON.stringify(s))}}},autoUpgrade:{url:i.wsHost+"/auto_upgrade/",app:null,createInstance:function(t){var s={};s.app=t,s.ws=new WebSocket(this.url+t.FILE),s.ws.onopen=t.onopen,s.ws.onclose=function(e){this.ws&&this.ws.close&&(s.ws.close(),s.app=null),t.onclose(e)},s.ws.onerror=t.onerror,s.ws.onmessage=e.exports.utils.getMessageHander().bind(s)}},autotesting:{url:i.wsHost+"/controller/auto_test",app:null,prepare:!1,init:function(t){var s=this;this.app=t,this.ws=new WebSocket(this.url+"/"+t.FILE),this.ws.onopen=function(e){s.prepare=!0,t.onopen&&t.onopen(e)},this.ws.onclose=t.onclose,this.ws.onerror=t.onerror,this.ws.onmessage=e.exports.utils.getMessageHander().bind(this);var i=e.exports.utils.register;i.call(this,"EnterAutoTest",["VALUE"]),i.call(this,"SetCaseData",["VALUE"]),i.call(this,"SetPushObseFreq",["VALUE"]),i.call(this,"QueryDevice",["VALUE"])},close:function(){this.ws&&this.ws.close&&(this.ws.close(),this.app=null)}},autotesting_common:{url:i.wsHost+"/autotest",app:null,prepare:!1,init:function(t){var s=this;this.app=t,this.ws=new WebSocket(this.url),this.ws.onopen=function(e){s.prepare=!0,t.onopen&&t.onopen(e)},this.ws.onclose=t.onclose||function(){},this.ws.onerror=t.onerror||function(){},this.ws.onmessage=e.exports.utils.getMessageHander().bind(this);var i=e.exports.utils.register;i.call(this,"GetAutoTestTemplate"),i.call(this,"ExecuteJob",["VALUE"]),i.call(this,"ExecuteLocalJob",["VALUE","JOB_TYPE"]),i.call(this,"AbortJob",["VALUE","JOB_TYPE"]),i.call(this,"get_state"),i.call(this,"switch_state",["state"]),i.call(this,"device_list"),i.call(this,"set_hostname",["VALUE"]),i.call(this,"set_auto",["VALUE"]),i.call(this,"get_hostname"),i.call(this,"get_auto"),i.call(this,"add_tc",["projectid","session","testcase"]),i.call(this,"proj_tcs",["projectid","session","page","size","path","filter","exact"]),i.call(this,"del_tc",["projectid","session","testcaseid"]),i.call(this,"fetch_tc",["projectid","session","testcaseid"]),i.call(this,"update_tc",["projectid","session","testcaseid","attrs"]),i.call(this,"add_teststep",["projectid","session","name","desc","content","type","path","author"]),i.call(this,"del_teststep",["projectid","session","teststepid"]),i.call(this,"get_teststep",["projectid","session","teststepid","name","desc","content","type","path","author","page","size"]),i.call(this,"update_teststep",["projectid","session","teststepid","name","desc","content","type","path","author"]),i.call(this,"my_projs",["session"]),i.call(this,"my_boards",["session","cursor"]),i.call(this,"create_plan",["projectid","session","name","remark","tags","author","content"]),i.call(this,"update_plan",["projectid","session","planid","attrs"]),i.call(this,"sync_plan",["projectid","session","planid","tclist"]),i.call(this,"plan_info",["projectid","session","planid"]),i.call(this,"plan_tcs",["projectid","session","planid"]),i.call(this,"del_plan",["projectid","session","planid"]),i.call(this,"my_plans",["projectid","session","page","size","tags","filter"]),i.call(this,"my_jobs",["projectid","session","filter"]),i.call(this,"my_reports",["projectid","session","filter"]),i.call(this,"execute_job",["projectid","session","planid","tags","times"]),i.call(this,"job_detail",["projectid","session","jobid"]),i.call(this,"abort_job",["projectid","session","jobid"]),i.call(this,"create_timer",["projectid","session","timer"]),i.call(this,"list_timer",["projectid","session","page","size"]),i.call(this,"delete_timer",["projectid","session","timerid"]),i.call(this,"login",["username","password"]),i.call(this,"checklogin",["session"]),i.call(this,"get_tc_template",["session","title","desc","creator","projectid"]),i.call(this,"add_tc_template",["session","projectid","title","desc","device","creator","content"]),i.call(this,"del_tc_template",["session","templateid","projectid"]),i.call(this,"get_tc_tree",["session","projectid"]),i.call(this,"update_tc_path",["session","projectid","oldprefix","newprefix"])},close:function(){this.ws&&this.ws.close&&(this.ws.close(),this.app=null)}},autotesting_jobexe:{url:i.wsHost3+"/JobExecute",app:null,prepare:!1,init:function(t){var s=this;this.app=t,this.ws=new WebSocket(this.url),this.ws.onopen=function(e){s.prepare=!0,s.onopen&&s.onopen(e)},this.ws.onclose=s.onclose||function(){},this.ws.onerror=s.onerror||function(){},this.ws.onmessage=e.exports.utils.getMessageHander().bind(this);var i=e.exports.utils.register;i.call(this,"ExecuteJob",["VALUE"]),i.call(this,"GetFcV1Tree"),i.call(this,"GetFcV1File",["VALUE"])},close:function(){this.ws&&this.ws.close&&(this.ws.close(),this.app=null)}},get_hash_param:{url:i.wsHost+"/controller/get_hash_param",app:null,init:function(t){this.app=t,this.ws=new WebSocket(this.url+"/"+t.activeDevice.FILE),this.ws.onopen=t.onopen,this.ws.onclose=t.onclose,this.ws.onerror=t.onerror,this.ws.onmessage=e.exports.utils.getMessageHander().bind(this);var s=e.exports.utils.register;s.call(this,"set_push_freq",["FREQ"])},close:function(){this.ws&&this.ws.close&&(this.ws.close(),this.app=null)}},rcSettings:{url:i.wsHost+"/controller/wifi",app:null,init:function(t){this.app=t,this.ws=new WebSocket(this.url+"/"+t.FILE),this.ws.onopen=t.onopen,this.ws.onclose=t.onclose,this.ws.onerror=t.onerror,this.ws.onmessage=e.exports.utils.getMessageHander().bind(this);var s=e.exports.utils.register;s.call(this,"GetSsidEx"),s.call(this,"SetSsidEx",["VALUE"]),s.call(this,"GetPasswordEx"),s.call(this,"SetPasswordEx",["VALUE"]),s.call(this,"DoRebootWifi"),s.call(this,"GetUavSsidEx"),s.call(this,"GetUavPasswordEx"),s.call(this,"DoRestoreFactory"),s.call(this,"GetCurMode",[],"getCurMode"),s.call(this,"GetMac",[],"getMac"),s.call(this,"SetMac",["VALUE"],"setMac")},close:function(){var t=e.exports.utils.close.bind(this);t()}},appreciation:{url:i.wsHost+"/controller/appreciation",app:null,init:function(t){this.app=t,this.ws=new WebSocket(this.url+"/"+t.FILE),this.ws.onopen=t.onopen,this.ws.onclose=t.onclose,this.ws.onerror=t.onerror,this.ws.onmessage=e.exports.utils.getMessageHander().bind(this);var s=e.exports.utils.register;s.call(this,"GetUserInfo",[],"getUserInfo"),s.call(this,"GetEansNote",[],"getEansNote"),s.call(this,"DoActivate",["ID","CODE"],"doActivate"),s.call(this,"DoReLoad",[],"doReLoad")},close:function(){var t=e.exports.utils.close.bind(this);t()}},zenmuse_debug_data:{url:i.wsHost+"/controller/zenmuse_debug_data",app:null,status:"",init:function(t){var s=this;this.app=t,this.ws=new WebSocket(this.url+"/"+t.FILE),this.ws.onopen=function(){s.status="ready",t.onopen.apply(this,arguments)},this.ws.onclose=t.onclose,this.ws.onerror=t.onerror,this.ws.onmessage=e.exports.utils.getMessageHander().bind(this);var i=e.exports.utils.register;i.call(this,"SendDebugCmd",["DATA1","DATA2","DATA3"],"sendDebugCmd"),i.call(this,"DoCail",[],"doCail"),i.call(this,"EraseCailData",[],"eraseCailData"),i.call(this,"DoFineTurning",["AXIS_TYPE","CTRL_TYPE"],"doFineTurning")},close:function(){var t=e.exports.utils.close.bind(this);t()}},radar:{url:i.wsHost+"/controller/radar",app:null,init:function(t){this.app=t,console.log(this.url+"/"+t.FILE),this.ws=new WebSocket(this.url+"/"+t.FILE),this.ws.onopen=t.onopen,this.ws.onclose=t.onclose,this.ws.onerror=t.onerror,this.ws.onmessage=e.exports.utils.getMessageHander().bind(this);var s=e.exports.utils.register;s.call(this,"GetType",[],"getType"),s.call(this,"SetType",["VALUE"],"setType"),s.call(this,"GetCountry",[],"getCountry"),s.call(this,"SetCountry",["VALUE"],"setCountry"),s.call(this,"QueryVersion",["RECEIVER"],"queryVersion"),s.call(this,"SetHardwareId",["RECEIVER","HARDWARE_ID"],"setHardwareId"),s.call(this,"GetMultiParam",["RECEIVER","IDLIST"],"getMultiParam"),s.call(this,"SetMultiParam",["RECEIVER","DATA"],"setMultiParam")},close:function(){var t=e.exports.utils.close.bind(this);t()}},esc_upgrade:{url:i.wsHost+"/controller/esc_upgrade/",app:null,init:function(t){this.app=t;var s=this.app.activeDevice;this.ws=new WebSocket(this.url+s.FILE),this.ws.onopen=this.onopen,this.ws.onclose=this.onclose,this.ws.onmessage=function(e){this.onmessage(e)}.bind(this);var i=e.exports.utils.register;i.call(this,"upload_logs",[],"uploadLog")},close:function(){this.ws&&this.ws.close&&(this.ws.close(),this.app=null)},onerror:function(e){utils.directTo("index")},onmessage:function(e){try{var t=JSON.parse(e.data);if(t.EVENT)this.app&&this.app[t.EVENT.toLowerCase()]&&this.app[t.EVENT.toLowerCase()](t);else if(t.SEQ){var s=t.SEQ,i=n[s];o&&1==o.getDebug()&&t.TIP_MSG&&alert(t.TIP_MSG),t.ERROR&&"SUCCESS"===t.ERROR.toUpperCase()&&i&&i.onSuccess?i.onSuccess(t):t.ERROR&&"FAILURE"===t.ERROR.toUpperCase()&&i&&i.onFailure?i.onFailure(t):t.ERROR&&"TIMEOUT"===t.ERROR.toUpperCase()&&i&&i.onTimeout&&i.onTimeout(t),delete n[s]}}catch(e){}},refresh_upgrade_package_info:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,PACK_URL:e.PACK_URL,CMD:"refresh_upgrade_package_info"};n[t]=e,this.ws.send(JSON.stringify(s))}},upgrade_package:function(e){if(!this.ws||1==this.ws.readyState){var t=utils.genSeq(Object.keys(n)),s={SEQ:t,CMD:"upgrade_package",PACKAGE_VERSION:e.PACKAGE_VERSION};n[t]=e,this.ws.send(JSON.stringify(s))}}},ronin2:{url:i.wsHost+"/ronin/config/",app:null,init:function(t){this.app=t;var s=this.app.activeDevice;this.ws=new WebSocket(this.url+s.FILE),this.ws.onopen=this.app.onopen||function(){},this.ws.onclose=this.app.onclose||function(){},this.ws.onmessage=e.exports.utils.getMessageHander().bind(this);var i=e.exports.utils.register;i.call(this,"SetRoninCtrlParam",["DATA"],"setRoninCtrlParam"),i.call(this,"RecoverDefaultParams",[],"recoverDefaultParams"),i.call(this,"SetUserParam",["DATA"],"setUserParam"),i.call(this,"DoCail",["TYPE"],"doCail"),i.call(this,"get_info",[],"getInfo")},close:function(){var t=e.exports.utils.close.bind(this);t()}},flight_record:{url:i.wsHost+"/controller/flight_record/",app:null,init:function(t){this.app=t;var s=this.app.activeDevice;this.ws=new WebSocket(this.url+s.FILE),this.ws.onopen=this.app.onopen||function(){},this.ws.onclose=this.app.onclose||function(){},this.ws.onmessage=e.exports.utils.getMessageHander().bind(this);var i=e.exports.utils.register;i.call(this,"get_file_list",[]),i.call(this,"upload_file",["FILE_NAME"])},close:function(){var t=e.exports.utils.close.bind(this);t()}},adsb_log:{url:i.wsHost+"/adsb/log/",app:null,init:function(t){this.app=t;var s=this.app.activeDevice;this.ws=new WebSocket(this.url+s.FILE),this.ws.onopen=this.app.onopen||function(){},this.ws.onclose=this.app.onclose||function(){},this.ws.onmessage=e.exports.utils.getMessageHander().bind(this);var i=e.exports.utils.register;i.call(this,"ExportLog",["PATH"],"exportLog")},close:function(){var t=e.exports.utils.close.bind(this);t()}}}}});